"use strict";(self.webpackChunkprueba=self.webpackChunkprueba||[]).push([[885],{1885:(K,N,r)=>{r.r(N),r.d(N,{NuevoMerchanModule:()=>B});var b=r(9808),s=r(5861),c=r(1042),e=r(5e3),l=r(2382),F=r(629),k=r(3632),U=r(1411),A=r(9958),O=r(773),S=r(9599),P=r(887),Y=r(1694),I=r(2436),z=r(7488),w=r(2019),j=r(1962),M=r(6115);function D(i,d){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=d.$implicit;e.xp6(1),e.Oqu(t.code)}}function L(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"button",31),e._UZ(3,"img",32),e.qZA()(),e.TgZ(4,"div",33)(5,"div",34)(6,"div",35)(7,"div",36)(8,"h1",37),e._uU(9,"Modal title"),e.qZA(),e._UZ(10,"button",38),e.qZA(),e.TgZ(11,"div",39)(12,"div",40)(13,"div",1)(14,"div",41)(15,"div",30)(16,"input",42),e.NdJ("change",function(n){return e.CHM(t),e.oxw().onUploadImgCloth(n,"front")}),e.qZA(),e.TgZ(17,"label",43),e._UZ(18,"img",32),e.qZA()(),e.TgZ(19,"div",44)(20,"p")(21,"strong"),e._uU(22,"FRONT"),e.qZA()()()(),e.TgZ(23,"div",41)(24,"div",30)(25,"input",45),e.NdJ("change",function(n){return e.CHM(t),e.oxw().onUploadImgCloth(n,"back")}),e.qZA(),e.TgZ(26,"label",46),e._UZ(27,"img",32),e.qZA()(),e.TgZ(28,"div",44)(29,"p")(30,"strong"),e._uU(31,"BACK"),e.qZA()()()(),e.TgZ(32,"div",41)(33,"div",30)(34,"input",47),e.NdJ("change",function(n){return e.CHM(t),e.oxw().onUploadImgCloth(n,"model_front")}),e.qZA(),e.TgZ(35,"label",48),e._UZ(36,"img",32),e.qZA()(),e.TgZ(37,"div",44)(38,"p")(39,"strong"),e._uU(40,"MODEL_FRONT"),e.qZA()()()(),e.TgZ(41,"div",41)(42,"div",30)(43,"input",49),e.NdJ("change",function(n){return e.CHM(t),e.oxw().onUploadImgCloth(n,"model_back")}),e.qZA(),e.TgZ(44,"label",50),e._UZ(45,"img",32),e.qZA()(),e.TgZ(46,"div",44)(47,"p")(48,"strong"),e._uU(49,"MODEL_BACK"),e.qZA()()()()()()(),e.TgZ(50,"div",51)(51,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePhoto()}),e._uU(52,"Close"),e.qZA(),e.TgZ(53,"button",53),e._uU(54,"Save changes"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.s9C("src",t.foto,e.LSH),e.xp6(15),e.s9C("src",t.front,e.LSH),e.xp6(9),e.s9C("src",t.back,e.LSH),e.xp6(9),e.s9C("src",t.model_front,e.LSH),e.xp6(9),e.s9C("src",t.model_back,e.LSH)}}function J(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",30)(2,"input",55),e.NdJ("change",function(n){return e.CHM(t),e.oxw().onUploadImg(n)}),e.qZA(),e.TgZ(3,"label",56),e._UZ(4,"img",32),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("src",t.foto,e.LSH)}}const q=[{path:"",component:(()=>{class i{constructor(t,o,n,a,m,f,g,p,h,u,y,T,v,_){this.formBuilder=t,this.authSrv=o,this.usuarioSrv=n,this.cancionSrv=a,this.sizesSrv=m,this.productSrv=f,this.productTypeSrv=g,this.productPhotoSrv=p,this.photoTypeSrv=h,this.merchandisingSrv=u,this.releaseSrv=y,this.releaseTypeSrv=T,this.storageSrv=v,this.router=_,this.canciones=[],this.prueba=[]}ngOnInit(){this.foto="https://firebasestorage.googleapis.com/v0/b/samesouls-a0c25.appspot.com/o/merchan%2Fshirt-default.png?alt=media&token=7a0a9551-4c22-435f-8c26-5c1db4d3356a&_gl=1*wyidpd*_ga*MjEyNDUxODY3Ny4xNjY2MzY4MTYz*_ga_CW55HF8NVT*MTY4NTg3MDY4NC40Mi4xLjE2ODU4NzEwMzYuMC4wLjA.",this.front=this.foto,this.back=this.foto,this.model_front=this.foto,this.model_back=this.foto,this.usuario=this.usuarioSrv.getUsuario(),this.form=this.formBuilder.group({name:"",stock:"",prize:"",description:""}),this.sizesSrv.getAll().subscribe(t=>this.sizes=t),this.releaseTypeSrv.getAll().subscribe(t=>this.releaseTypes=t),this.productTypeSrv.getAll().subscribe(t=>{this.productTypes=t,this.productType=t[0].code}),this.photoTypeSrv.getAll().subscribe(t=>this.photoType=t)}ngOnDestroy(){}goTo(t){this.router.navigate([t])}logout(){var t=this;return(0,s.Z)(function*(){yield t.authSrv.logout().then(()=>{console.log(t.authSrv.getUsuario())}),t.router.navigate(["/login"])})()}follow(){}onUploadImg(t){let o=t.target.files[0],n=new FileReader;n.readAsDataURL(o),n.onloadend=()=>{this.foto=n.result}}onUploadImgCloth(t,o){let n=t.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onloadend=()=>{switch(console.log("type",o),o){case"front":this.front=a.result;break;case"back":this.back=a.result;break;case"model_front":this.model_front=a.result;break;case"model_back":this.model_back=a.result}this.foto=this.front}}onUploadMusic(t){this.music=t.target.files[0];let o=new FileReader;o.readAsDataURL(this.music),o.onloadend=()=>{this.foto=o.result}}changePhoto(){switch(console.log("entar"),this.productType){case"CLOTHING":this.foto="https://firebasestorage.googleapis.com/v0/b/samesouls-a0c25.appspot.com/o/merchan%2Fshirt-default.png?alt=media&token=7a0a9551-4c22-435f-8c26-5c1db4d3356a&_gl=1*wyidpd*_ga*MjEyNDUxODY3Ny4xNjY2MzY4MTYz*_ga_CW55HF8NVT*MTY4NTg3MDY4NC40Mi4xLjE2ODU4NzEwMzYuMC4wLjA.",this.front=this.foto,this.back=this.foto,this.model_front=this.foto,this.model_back=this.foto;break;case"MUSIC":this.foto="https://firebasestorage.googleapis.com/v0/b/samesouls-a0c25.appspot.com/o/merchan%2Fdisk-default.png?alt=media&token=2df902ef-f2a8-4968-87f8-edefc65e706b&_gl=1*y3wz8w*_ga*MjEyNDUxODY3Ny4xNjY2MzY4MTYz*_ga_CW55HF8NVT*MTY4NTg3MDY4NC40Mi4xLjE2ODU4NzEwMDguMC4wLjA."}}submit(){var t=this;return(0,s.Z)(function*(){try{let o=t.usuario;t.myuuid=(0,c.Z)();let n={id:t.myuuid,name:t.form.value.name,description:t.form.value.description,artist:o,product_type:t.productTypes.filter(a=>t.productType==a.code)[0]};yield t.productSrv.create(n),"CLOTHING"==t.productType?t.storageSrv.uploadImg("merchan/"+o.email+"/"+t.productType+"/"+t.form.value.name,"front",t.front).then(function(){var a=(0,s.Z)(function*(m){t.myuuid=(0,c.Z)();let f={id:t.myuuid,photo:m,photo_type:t.photoType.filter(g=>"FRONT"==g.name)[0],product:n};yield t.productPhotoSrv.create(f),t.storageSrv.uploadImg("merchan/"+o.email+"/"+t.productType+"/"+t.form.value.name,"back",t.back).then(function(){var g=(0,s.Z)(function*(p){t.myuuid=(0,c.Z)();let h={id:t.myuuid,photo:p,photo_type:t.photoType.filter(u=>"BACK"==u.name)[0],product:n};yield t.productPhotoSrv.create(h),t.storageSrv.uploadImg("merchan/"+o.email+"/"+t.productType+"/"+t.form.value.name,"model_front",t.model_front).then(function(){var u=(0,s.Z)(function*(y){t.myuuid=(0,c.Z)();let T={id:t.myuuid,photo:y,photo_type:t.photoType.filter(v=>"MODEL_FRONT"==v.name)[0],product:n};yield t.productPhotoSrv.create(T),t.storageSrv.uploadImg("merchan/"+o.email+"/"+t.productType+"/"+t.form.value.name,"model_back",t.model_back).then(function(){var v=(0,s.Z)(function*(_){t.myuuid=(0,c.Z)();let R={id:t.myuuid,photo:_,photo_type:t.photoType.filter(x=>"MODEL_BACK"==x.name)[0],product:n};yield t.productPhotoSrv.create(R);let G=(0,c.Z)();t.sizes.forEach(function(){var x=(0,s.Z)(function*(Z){let C;console.log("element",Z),t.myuuid=(0,c.Z)(),console.log("myuuid",t.myuuid),C={id:t.myuuid,code:G,product:n,prize:9.99,stock:100,size:Z,created_at:(new Date).getTime()},console.log("merchandising",C),yield t.merchandisingSrv.create(C)});return function(Z){return x.apply(this,arguments)}}()),t.router.navigate(["/shop"])});return function(_){return v.apply(this,arguments)}}())});return function(y){return u.apply(this,arguments)}}())});return function(p){return g.apply(this,arguments)}}())});return function(m){return a.apply(this,arguments)}}()):"MUSIC"==t.productType&&t.storageSrv.uploadImg("merchan/"+o.email+"/"+t.productType,t.form.value.name,t.foto).then(function(){var a=(0,s.Z)(function*(m){t.myuuid=(0,c.Z)();let f={id:t.myuuid,photo:m,photo_type:t.photoType.filter(p=>"DISK"==p.name)[0],product:n};yield t.productPhotoSrv.create(f);let g=(0,c.Z)();t.sizes.forEach(function(){var p=(0,s.Z)(function*(h){let u;console.log("element",h),t.myuuid=(0,c.Z)(),console.log("myuuid",t.myuuid),u={id:t.myuuid,code:g,product:n,prize:9.99,stock:100,size:h,created_at:(new Date).getTime()},console.log("merchandising",u),yield t.merchandisingSrv.create(u)});return function(h){return p.apply(this,arguments)}}()),t.router.navigate(["/shop"])});return function(m){return a.apply(this,arguments)}}())}catch(o){}})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(F.e),e.Y36(k.L),e.Y36(U.e),e.Y36(A.d),e.Y36(O.s),e.Y36(S.z),e.Y36(P.S),e.Y36(Y.q),e.Y36(I.t),e.Y36(z.R),e.Y36(w.g),e.Y36(j.V),e.Y36(M.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-nuevo-merchan"]],decls:42,vars:5,consts:[[1,"form-back","bg-size"],[1,"row","mx-auto"],[1,"col-lg-10","mx-auto","py-md-5"],[1,"col-md-4","mx-auto"],["for","merchanType",1,"form-label","text-pink"],["name","merchanType","id","merchanType","required","",1,"form-select",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"text-pink"],[1,"form-signin","needs-validation",3,"formGroup"],[1,"d-flex","align-items-center","row","col-lg-10","mx-auto","text-pink"],["class","col-lg-4 mx-auto",4,"ngIf"],["class","row col-lg-4 mx-auto",4,"ngIf"],[1,"row","col-lg-8"],[1,"col-6"],["for","name",1,"form-label","text-pink","title-new-song"],["formControlName","name","type","text","id","name","placeholder","","value","",1,"form-control"],[1,"col-3"],["for","stock",1,"form-label","text-pink","title-new-song"],["formControlName","stock","type","number","id","stock","placeholder","","value","",1,"form-control"],["for","prize",1,"form-label","text-pink","title-new-song"],[1,"input-group"],["formControlName","prize","type","number","step",".01","id","prize","placeholder","","value","",1,"form-control"],[1,"input-group-text"],[1,"col-lg-12","mt-3"],["for","description",1,"form-label","text-pink","title-new-song"],["formControlName","description","placeholder","","rows","3","id","description",1,"form-control"],[1,"col-10","mx-auto","d-flex","justify-content-end","mt-5"],[1,"btn","btn-outline-light","me-3",3,"click"],[1,"btn","btn-light","me-4",3,"click"],[1,"col-lg-4","mx-auto"],[1,"d-flex","justify-content-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"labelInputFileDisk"],["alt","upload file",3,"src"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[1,"modal-content","text-dark"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"container-fluid","mx-auto"],[1,"col-md-3"],["name","foto","type","file","accept",".png, .jpg,.jpeg","id","inputFileFront",3,"change"],["for","inputFileFront",1,"labelInputFile"],[1,"d-flex","justify-content-center","mt-2"],["name","foto","type","file","accept",".png, .jpg,.jpeg","id","inputFileBack",3,"change"],["for","inputFileBack",1,"labelInputFile"],["name","foto","type","file","accept",".png, .jpg,.jpeg","id","inputFileModelFront",3,"change"],["for","inputFileModelFront",1,"labelInputFile"],["name","foto","type","file","accept",".png, .jpg,.jpeg","id","inputFileModelBack",3,"change"],["for","inputFileModelBack",1,"labelInputFile"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark"],[1,"row","col-lg-4","mx-auto"],["name","foto","type","file","accept",".png, .jpg,.jpeg","id","inputFile",3,"change"],["for","inputFile",1,"labelInputFileDisk"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"Seleccione el tipo del producto"),e.qZA(),e.TgZ(6,"select",5),e.NdJ("ngModelChange",function(a){return o.productType=a})("change",function(){return o.changePhoto()}),e.YNc(7,D,2,1,"option",6),e.qZA()(),e._UZ(8,"hr",7),e.qZA()(),e.TgZ(9,"form",8)(10,"div",9),e.YNc(11,L,55,5,"div",10),e.YNc(12,J,5,1,"div",11),e.TgZ(13,"div",12)(14,"div",13)(15,"label",14)(16,"b"),e._uU(17,"Nombre"),e.qZA()(),e._UZ(18,"input",15),e.qZA(),e.TgZ(19,"div",16)(20,"label",17)(21,"b"),e._uU(22,"Cantidad"),e.qZA()(),e._UZ(23,"input",18),e.qZA(),e.TgZ(24,"div",16)(25,"label",19)(26,"b"),e._uU(27,"Precio"),e.qZA()(),e.TgZ(28,"div",20),e._UZ(29,"input",21),e.TgZ(30,"span",22),e._uU(31,"\u20ac"),e.qZA()()(),e.TgZ(32,"div",23)(33,"label",24)(34,"b"),e._uU(35,"Descripci\xf3n"),e.qZA()(),e._UZ(36,"textarea",25),e.qZA()()(),e.TgZ(37,"div",26)(38,"button",27),e.NdJ("click",function(){return o.goTo("")}),e._uU(39,"Cancelar"),e.qZA(),e.TgZ(40,"button",28),e.NdJ("click",function(){return o.submit()}),e._uU(41,"Subir el producto"),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",o.productType),e.xp6(1),e.Q6J("ngForOf",o.productTypes),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngIf","CLOTHING"==o.productType),e.xp6(1),e.Q6J("ngIf","MUSIC"==o.productType))},directives:[l.EJ,l.Q7,l.JJ,l.On,b.sg,l.YN,l.Kr,l._Y,l.JL,l.sg,b.O5,l.Fj,l.u,l.wV],styles:[".name[_ngcontent-%COMP%]{font-size:450%;color:#ab6c6c;margin-left:5%}.title-new-song[_ngcontent-%COMP%]{font-size:125%}.test[_ngcontent-%COMP%]{max-width:100%}.arreglo[_ngcontent-%COMP%]{margin-top:25px;width:100%}.btn-back[_ngcontent-%COMP%]{background-color:#ab6c6c;border-radius:20px}.info[_ngcontent-%COMP%]{padding:30px}.color-link[_ngcontent-%COMP%]{color:#ab6c6c}.div-pointer[_ngcontent-%COMP%]{text-align:center;width:50%;cursor:pointer}.bg-profile[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/boomclub-tfg.appspot.com/o/backOG3.png?alt=media&token=07ca8e3a-0ce0-49a8-95d6-4a8c2add230d);background-size:cover}#inputFile[_ngcontent-%COMP%], #inputFileFront[_ngcontent-%COMP%], #inputFileBack[_ngcontent-%COMP%], #inputFileModelFront[_ngcontent-%COMP%], #inputFileModelBack[_ngcontent-%COMP%]{display:none}.labelInputFile[_ngcontent-%COMP%]{width:200px;height:200px;padding:1rem;box-shadow:0 0 10px -1px gray;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.labelInputFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px}.labelInputFileDisk[_ngcontent-%COMP%]{width:350px;height:350px;padding:1rem;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.labelInputFileDisk[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:350px}.labelInputFile[_ngcontent-%COMP%]:active{transform:scale(.9)}@media screen and (max-width: 767px){.ocultar[_ngcontent-%COMP%]{display:none}}"]}),i})(),canActivate:[r(3870).a],pathMatch:"full"}];let B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[b.ez,l.u5,l.UX,M.Bz.forChild(q)],M.Bz]}),i})()}}]);