"use strict";(self.webpackChunkprueba=self.webpackChunkprueba||[]).push([[833],{4833:(S,u,r)=>{r.r(u),r.d(u,{ArtistaProfileModule:()=>T});var p=r(9808),m=r(5861),t=r(5e3),f=r(629),v=r(3632),_=r(1411),x=r(2436),C=r(887),Z=r(1962),g=r(6115);function b(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"span",19),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().play(i)}),t._uU(2,"play_arrow"),t.qZA(),t._UZ(3,"link",20),t.qZA()}}function O(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"span",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).pause()}),t._uU(2,"pause"),t.qZA(),t._UZ(3,"link",20),t.qZA()}}function P(n,s){if(1&n&&(t.TgZ(0,"tr")(1,"th",17),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.YNc(9,b,4,0,"td",18),t.YNc(10,O,4,0,"td",18),t.qZA()),2&n){const e=s.$implicit,o=s.index,i=t.oxw();t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.release.title),t.xp6(2),t.Oqu(e.time),t.xp6(1),t.Q6J("ngIf",i.playB!=e.title),t.xp6(1),t.Q6J("ngIf",i.playB==e.title)}}function A(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().goTo("/shop/"+a.code)}),t._UZ(2,"img",23),t.TgZ(3,"div",24)(4,"p",5),t._uU(5),t.qZA()()()()}if(2&n){const e=s.$implicit,o=t.oxw();t.xp6(2),t.s9C("src",o.photos[e.code].photo,t.LSH),t.xp6(3),t.Oqu(e.product.name)}}let M=(()=>{class n{constructor(e,o,i,a,c,l,d,w,U){this.authSrv=e,this.usuarioSrv=o,this.songSrv=i,this.merchanSrv=a,this.productPhotosSrv=c,this.storageSrv=l,this.router=d,this.ngZone=w,this.activatedRoute=U,this.canciones=[],this.merchandising=[],this.photos={},this.playB="",this.disabled=!0,this.suscriptions=[]}ngOnInit(){const e=this.activatedRoute.params.subscribe(o=>{this.id=o.id});this.suscriptions.push(e),console.log(this.suscriptions),this.usuarioSrv.getOne(this.id).subscribe(o=>{this.user=o,this.foto=this.user.foto,this.songSrv.getByArtist(this.user.username).subscribe(i=>{this.canciones=[],i.forEach(a=>{let c=new Audio(a.audio),l=this.parseTime(120*Math.random()+120);this.canciones.push(Object.assign(Object.assign({},a),{raw:c,time:l}))})}),this.merchanSrv.getByArtist(this.user.username).subscribe(i=>{const a=i.filter((c,l)=>i.findIndex(d=>d.code===c.code)===l);this.merchandising=a.slice(0,5),this.merchandising.forEach(c=>{this.productPhotosSrv.getByProduct(c.product.id).subscribe(l=>{l.forEach(d=>{("DISK"==d.photo_type.name||"FRONT"==d.photo_type.name)&&(this.photos[c.code]=d)})})})})}),console.log(this.user)}ngOnDestroy(){this.playB="",this.pause()}goTo(e){this.router.navigate([e])}logout(){var e=this;return(0,m.Z)(function*(){yield e.authSrv.logout().then(()=>{console.log(e.authSrv.getUsuario())}),e.router.navigate(["/login"])})()}follow(){}parseTime(e){if(e){var o=Math.floor(e/60%60),i=Math.floor(e%60);return i<10?o+":0"+i:o+":"+i}return"0:00"}play(e){this.playB=e.title,this.songSrv.playSong(e.raw)}pause(){this.playB="",this.songSrv.pauseSong()}onUploadImg(e){let o=e.target.files[0],i=new FileReader;i.readAsDataURL(o),i.onloadend=()=>{this.foto=i.result}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.e),t.Y36(v.L),t.Y36(_.e),t.Y36(x.t),t.Y36(C.S),t.Y36(Z.V),t.Y36(g.F0),t.Y36(t.R0b),t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artista-profile"]],decls:39,vars:5,consts:[[1,"form-back","bg-profile"],[1,"card","text-bg-dark","w-100"],["alt","...",1,"card-img",2,"height","45vh","object-fit","cover",3,"src"],[1,"card-img-overlay","d-flex","align-content-end","flex-wrap","row","card-artista"],[1,"card-title","mb-3",2,"font-size","100px"],[1,"card-text"],[1,"col-lg-10","mx-auto","p-3","py-md-5"],[1,"test","mt-3","d-flex","align-items-center","row","row-cols-1","g-1"],[1,"mt-3","row","col-lg-12"],[1,"p-3"],[1,"fs-4","text-pink"],[1,"text-pink"],[1,"text-pink","table","table-dark","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","row-cols-md-6"],["class","col",4,"ngFor","ngForOf"],["scope","row"],[4,"ngIf"],[1,"material-symbols-outlined","ms-4",3,"click"],["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0"],[1,"col"],[1,"card","card-artista","text-pink","pointer",3,"click"],["alt","Merchan",1,"card-img-top","merchan-img",2,"margin-left","25%",3,"src"],[1,"card-body","bg-dark"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"main")(2,"div",1),t._UZ(3,"img",2),t.TgZ(4,"div",3)(5,"h1",4),t._uU(6),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA()()(),t.TgZ(9,"div")(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"h3",10),t._uU(15,"M\xfasica"),t.qZA(),t._UZ(16,"hr",11),t.TgZ(17,"table",12)(18,"thead")(19,"tr")(20,"th",13),t._uU(21,"#"),t.qZA(),t.TgZ(22,"th",13),t._uU(23,"Nombre"),t.qZA(),t.TgZ(24,"th",13),t._uU(25,"\xc1lbum"),t.qZA(),t.TgZ(26,"th",13),t._uU(27,"Tiempo"),t.qZA(),t.TgZ(28,"th",13),t._uU(29,"Reproducir"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,P,11,6,"tr",14),t.qZA()()()(),t.TgZ(32,"div",8)(33,"div",9)(34,"h3",10),t._uU(35,"Tienda"),t.qZA(),t._UZ(36,"hr",11),t.TgZ(37,"div",15),t.YNc(38,A,6,2,"div",16),t.qZA()()()()()()()()),2&e&&(t.xp6(3),t.s9C("src",o.user.foto,t.LSH),t.xp6(3),t.Oqu(o.user.username),t.xp6(2),t.Oqu(o.user.description),t.xp6(23),t.Q6J("ngForOf",o.canciones),t.xp6(7),t.Q6J("ngForOf",o.merchandising))},directives:[p.sg,p.O5],styles:['.name[_ngcontent-%COMP%]{font-size:450%;color:#f2ebdc;margin-left:5%}.title-new-song[_ngcontent-%COMP%]{font-size:125%}.test[_ngcontent-%COMP%]{max-width:100%}.arreglo[_ngcontent-%COMP%]{margin-top:30px;width:100%}.btn-back[_ngcontent-%COMP%]{background-color:#0d0d0d;border-radius:20px}.info[_ngcontent-%COMP%]{padding:30px}.color-link[_ngcontent-%COMP%]{color:#f2ebdc}.div-pointer[_ngcontent-%COMP%]{text-align:center;width:50%;cursor:pointer}.bg-profile[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/samesouls-tfg.appspot.com/o/backOG3.png?alt=media&token=07ca8e3a-0ce0-49a8-95d6-4a8c2add230d);background-size:cover}#inputFile[_ngcontent-%COMP%]{display:none}.labelInputFile[_ngcontent-%COMP%]{width:200px;height:200px;padding:1rem;box-shadow:0 0 10px -1px gray;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.labelInputFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px}.labelInputFile[_ngcontent-%COMP%]:active{transform:scale(.9)}@media screen and (max-width: 767px){.ocultar[_ngcontent-%COMP%]{display:none}}.card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0!important}.card-artista[_ngcontent-%COMP%]{background-color:#0d0d0d80;width:100%}.is-divider[_ngcontent-%COMP%]{background-color:#f2ebdc;height:3px;display:block;margin:.3em 0 1em;width:100%;max-width:30px}.genre-list[_ngcontent-%COMP%]{padding-left:0}.genre-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{cursor:pointer;padding:3px;list-style:none;margin:0 0 .3em;text-align:left}.genre-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.08)}.material-symbols-outlined[_ngcontent-%COMP%]{cursor:pointer;font-variation-settings:"FILL" 1,"wght" 400,"GRAD" 0,"opsz" 48}.merchan-img[_ngcontent-%COMP%]{width:9.938rem;height:9.938rem}']}),n})();var h=r(2382);const y=[{path:"",component:M,children:[]}];let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,h.u5,h.UX,g.Bz.forChild(y)],g.Bz]}),n})()}}]);