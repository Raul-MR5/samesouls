"use strict";(self.webpackChunkprueba=self.webpackChunkprueba||[]).push([[499],{6499:(w,m,r)=>{r.r(m),r.d(m,{ChangePasswordModule:()=>C});var c=r(9808),u=r(5861),t=r(2382),e=r(5e3),g=r(629),p=r(3632),f=r(1962),d=r(6115);const b=[{path:"",component:(()=>{class n{constructor(o,a,l,i,Z){this.formBuilder=o,this.authSrv=a,this.usuarioSrv=l,this.storageSrv=i,this.router=Z,this.prueba=[],this.disabled=!0}ngOnInit(){this.user=this.usuarioSrv.getUsuario(),console.log(this.user),this.form=this.formBuilder.group({foto:[""],username:[this.user.username,[t.kI.required]],nombre:[this.user.nombre,[t.kI.required]],apellidos:[this.user.apellidos],email:[{value:this.user.email,disabled:!0},[t.kI.required]]}),this.foto=this.user.foto}ngOnDestroy(){}goTo(o){this.router.navigate([o])}logout(){var o=this;return(0,u.Z)(function*(){yield o.authSrv.logout().then(()=>{console.log(o.authSrv.getUsuario())}),o.router.navigate(["/login"])})()}follow(){}onUploadImg(o){let a=o.target.files[0],l=new FileReader;l.readAsDataURL(a),l.onloadend=()=>{this.foto=l.result}}submit(){var o=this;return(0,u.Z)(function*(){try{o.storageSrv.uploadImg("avatar/",o.user.email,o.foto).then(function(){var a=(0,u.Z)(function*(l){let i;i=l?{id:o.user.id,nombre:o.form.value.nombre,apellidos:o.form.value.apellidos,email:o.user.email,foto:l,username:o.form.value.username}:{id:o.user.id,nombre:o.form.value.nombre,apellidos:o.form.value.apellidos,email:o.user.email,foto:o.foto,username:o.form.value.username},yield o.usuarioSrv.update(i),o.router.navigate(["/profile"])});return function(l){return a.apply(this,arguments)}}())}catch(a){}})()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(t.qu),e.Y36(g.e),e.Y36(p.L),e.Y36(f.V),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-change-password"]],decls:39,vars:2,consts:[[1,"form-back","bg-profile"],[1,"form-signin","needs-validation",3,"formGroup","submit"],[1,"col-lg-10","mx-auto","p-3","py-md-5"],[1,"test","mt-3","d-flex","align-items-center","row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-1"],[1,"col-lg-12","d-flex","align-items-center","justify-content-center","pe-4"],["formControlName","foto","type","file","accept",".png, .jpg,.jpeg","multiple","","id","inputFile",3,"change"],["for","inputFile",1,"labelInputFile"],["alt","upload file",3,"src"],[1,"mt-2","row","col-lg-12"],[1,"col-lg-6"],["for","nombre",1,"form-label","text-pink","title-new-song"],["formControlName","nombre","type","text","id","nombre","placeholder","","value","",1,"form-control"],["for","apellidos",1,"form-label","text-pink","title-new-song"],["formControlName","apellidos","type","text","id","apellidos","placeholder","","value","",1,"form-control"],[1,"mt-2","col-lg-6"],["for","username",1,"form-label","text-pink","title-new-song"],["formControlName","username","type","text","id","username","placeholder","","value","",1,"form-control"],["for","email",1,"form-label","text-pink","title-new-song"],["formControlName","email","type","text","id","email","placeholder","","value","",1,"form-control","text-muted"],[1,"d-flex","align-items-center","row","row-cols-1","row-cols-sm-1","row-cols-md-4","g-3"],[1,"col-lg-2"],[1,"col-lg-8"],["type","submit",1,"btn","btn-back","text-white","arreglo"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"main")(2,"form",1),e.NdJ("submit",function(){return a.submit()}),e.TgZ(3,"h1")(4,"strong"),e._uU(5,"Cambiar contrase\xf1a"),e.qZA()(),e.TgZ(6,"div")(7,"div",2)(8,"div",3)(9,"div",4)(10,"input",5),e.NdJ("change",function(i){return a.onUploadImg(i)}),e.qZA(),e.TgZ(11,"label",6),e._UZ(12,"img",7),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"label",10)(16,"b"),e._uU(17,"Nombre"),e.qZA()(),e._UZ(18,"input",11),e.qZA(),e.TgZ(19,"div",9)(20,"label",12)(21,"b"),e._uU(22,"Apellidos"),e.qZA()(),e._UZ(23,"input",13),e.qZA(),e.TgZ(24,"div",14)(25,"label",15)(26,"b"),e._uU(27,"Nombre de usuario"),e.qZA()(),e._UZ(28,"input",16),e.qZA(),e.TgZ(29,"div",14)(30,"label",17)(31,"b"),e._uU(32,"Email"),e.qZA()(),e._UZ(33,"input",18),e.qZA()()(),e.TgZ(34,"div",19),e._UZ(35,"div",20),e.TgZ(36,"div",21)(37,"button",22),e._uU(38,"Editar"),e.qZA()()()()()()()()),2&o&&(e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(10),e.s9C("src",a.foto,e.LSH))},directives:[t._Y,t.JL,t.sg,t.Fj,t.JJ,t.u],styles:[".name[_ngcontent-%COMP%]{font-size:450%;color:#f2ebdc;margin-left:5%}.title-new-song[_ngcontent-%COMP%]{font-size:125%}.test[_ngcontent-%COMP%]{max-width:100%}.arreglo[_ngcontent-%COMP%]{margin-top:30px;width:100%}.btn-back[_ngcontent-%COMP%]{background-color:#0d0d0d;border-radius:20px}.info[_ngcontent-%COMP%]{padding:30px}.color-link[_ngcontent-%COMP%]{color:#f2ebdc}.div-pointer[_ngcontent-%COMP%]{text-align:center;width:50%;cursor:pointer}.bg-profile[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/samesouls-tfg.appspot.com/o/backOG3.png?alt=media&token=07ca8e3a-0ce0-49a8-95d6-4a8c2add230d);background-size:cover}#inputFile[_ngcontent-%COMP%]{display:none}.labelInputFile[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:100%;padding:1rem;box-shadow:0 0 10px -1px gray;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.labelInputFile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:100%}.labelInputFile[_ngcontent-%COMP%]:active{transform:scale(.9)}@media screen and (max-width: 767px){.ocultar[_ngcontent-%COMP%]{display:none}}"]}),n})(),canActivate:[r(3870).a],children:[]}];let C=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,t.u5,t.UX,d.Bz.forChild(b)],d.Bz]}),n})()}}]);