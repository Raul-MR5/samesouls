"use strict";(self.webpackChunkprueba=self.webpackChunkprueba||[]).push([[604],{3604:(F,d,r)=>{r.r(d),r.d(d,{ShopModule:()=>y});var u=r(9808),p=r(6115),h=r(7407),g=r(3385),c=r(2382),m=r(520),t=r(5e3),v=r(3632),f=r(2436),b=r(887),C=r(364),Z=r(2368);function x(o,i){if(1&o&&t._UZ(0,"button",29),2&o){const e=i.index;t.Tol(0==e?"active":""),t.Q2q("aria-label","Slide ",e,""),t.uIk("data-bs-slide-to",e)}}function S(o,i){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"img",30),t.TgZ(2,"div",31)(3,"h5"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"a",32),t._uU(8,"Escuchar ahora"),t.qZA()()()),2&o){const e=i.$implicit;t.Gre("carousel-item ",0==i.index?"active":"",""),t.xp6(1),t.s9C("src",e.photo,t.LSH),t.xp6(3),t.Oqu(e.artist.username),t.xp6(2),t.Oqu(e.description),t.xp6(1),t.s9C("href",e.url,t.LSH)}}function _(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"li",33),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().filter(l.code)}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.code)}}function O(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",34),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().goTo("/shop/"+l.code)}),t.TgZ(1,"div",35)(2,"div",36)(3,"div",37),t._UZ(4,"img",38),t.qZA(),t.TgZ(5,"div",39)(6,"h5",40),t._uU(7),t.qZA()()()()()}if(2&o){const e=i.$implicit;t.xp6(4),t.s9C("src",e.photo.photo,t.LSH),t.s9C("alt",e.product.name),t.xp6(3),t.Oqu(e.product.name)}}const T=[{path:"",component:(()=>{class o{constructor(e,n,s,l,a,A,M){this.formBuilder=e,this.router=n,this.usuarioSrv=s,this.merchandisingSrv=l,this.productPhotoSrv=a,this.bannerSrv=A,this.genreSrv=M,this.artistas=[],this.allArtistas=[],this.merchan=[],this.allMerchan=[],this.genres=[],this.merchanPhotos=[]}ngOnInit(){this.bannerSrv.getByType("BANNER_SHOP").subscribe(e=>{this.banner=e}),this.form=this.formBuilder.group({search:[""]}),this.usuario=this.usuarioSrv.getUsuario(),this.merchandisingSrv.getAllOrdered().subscribe(e=>{console.log("m",e);const n=e.filter((s,l)=>e.findIndex(a=>a.code===s.code)===l);n.forEach(s=>{this.productPhotoSrv.getOrderedTypeName().subscribe(l=>{l.forEach(a=>{("DISK"==a.photo_type.name||"FRONT"==a.photo_type.name)&&a.product.id==s.product.id&&this.merchan.push(Object.assign(Object.assign({},s),{photo:a}))})})}),console.log("unique",n),console.log("merchan",this.merchan),this.allMerchan=this.merchan}),this.genreSrv.getAll().subscribe(e=>{this.genres=e})}ngOnDestroy(){}search(){this.form.value.search.length>0?(this.busqueda=!0,this.usuarioSrv.getAllMatchesArtista(this.form.value.search).subscribe(e=>{this.artistas=e})):(this.artistas=this.allArtistas,this.busqueda=!1)}filter(e){e.length>0?this.usuarioSrv.getAllMatchesGenre(e).subscribe(n=>{this.artistas=n}):this.artistas=this.allArtistas}goTo(e){this.router.navigate([e])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(p.F0),t.Y36(v.L),t.Y36(f.t),t.Y36(b.S),t.Y36(C.n),t.Y36(Z.S))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-shop"]],decls:39,vars:5,consts:[[1,"bg-dark"],["id","carouselExampleCaptions",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","aria-current","true",3,"class",4,"ngFor","ngForOf"],[1,"carousel-inner"],[3,"class",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-lg-9","mx-auto","py-md-4"],[1,"display-flex","row","py-4"],[1,"col-4"],[1,"navbar"],[1,"w-100"],["role","search",1,"col-lg-11",3,"formGroup"],[1,"text-light"],[1,"is-divider","small"],["formControlName","search","type","search","placeholder","Search","aria-label","Search",1,"form-control","mt-4","me-2","bg-dark","text-light","rounded-pill",3,"keyup"],[1,"col-lg-1"],[1,"text-light",2,"margin-right","11%","margin-top","8%"],[1,"genre-list"],[3,"click",4,"ngFor","ngForOf"],[2,"margin-right","11%","margin-top","8%"],["type","button",1,"w-100","btn","btn-outline-light",3,"click"],[1,"col-8"],[1,"py-2","row","row-cols-1","row-cols-sm-2","row-cols-md-4","g-3"],["class","col",3,"click",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleCaptions","aria-current","true"],["alt","",1,"d-block","w-100",2,"height","60vh","object-fit","cover","opacity","0.5",3,"src"],[1,"carousel-caption","d-none","d-md-block"],["target","_blank",1,"btn","btn-light","mb-3",3,"href"],[3,"click"],[1,"col",3,"click"],[1,"shadow-sm","song-selector"],[1,"card-body"],[1,"d-flex","justify-content-center","align-items-center"],["width","130px","height","130px",1,"mt-2","music-cover","rounded-circle",3,"src","alt"],[1,"mt-3","d-flex","justify-content-center","align-items-center"],[1,"text-light","no-salir"]],template:function(e,n){1&e&&(t.TgZ(0,"main",0)(1,"div",1)(2,"div",2),t.YNc(3,x,1,5,"button",3),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,S,9,7,"div",5),t.qZA(),t.TgZ(6,"button",6),t._UZ(7,"span",7),t.TgZ(8,"span",8),t._uU(9,"Previous"),t.qZA()(),t.TgZ(10,"button",9),t._UZ(11,"span",10),t.TgZ(12,"span",8),t._uU(13,"Next"),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"div")(18,"nav",14)(19,"div",15)(20,"form",16)(21,"strong",17),t._uU(22,"B\xdaSQUEDA"),t.qZA(),t._UZ(23,"div",18),t.TgZ(24,"input",19),t.NdJ("keyup",function(){return n.search()}),t.qZA()(),t._UZ(25,"div",20),t.qZA()()(),t.TgZ(26,"div",21)(27,"strong"),t._uU(28,"G\xc9NEROS"),t.qZA(),t._UZ(29,"div",18),t.TgZ(30,"div")(31,"ul",22),t.YNc(32,_,3,1,"li",23),t.qZA()()(),t.TgZ(33,"div",24)(34,"button",25),t.NdJ("click",function(){return n.filter("")}),t._uU(35,"Reiniciar Filtros"),t.qZA()()(),t.TgZ(36,"div",26)(37,"div",27),t.YNc(38,O,8,3,"div",28),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",n.banner),t.xp6(2),t.Q6J("ngForOf",n.banner),t.xp6(15),t.Q6J("formGroup",n.form),t.xp6(12),t.Q6J("ngForOf",n.genres),t.xp6(6),t.Q6J("ngForOf",n.merchan))},directives:[u.sg,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u],styles:[".color-link[_ngcontent-%COMP%]{color:#f2ebdc}.lista-inline[_ngcontent-%COMP%]{display:inline;margin-left:10px}.song-selector[_ngcontent-%COMP%]{cursor:pointer}.no-salir[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.div-pointer[_ngcontent-%COMP%]{cursor:pointer}.is-divider[_ngcontent-%COMP%]{background-color:#f2ebdc;height:3px;display:block;margin:.3em 0 1em;width:100%;max-width:30px}.genre-list[_ngcontent-%COMP%]{padding-left:0}.genre-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{cursor:pointer;padding:3px;list-style:none;margin:0 0 .3em;text-align:left}.genre-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{border-top:1px solid rgba(13,13,13,.1)}[_ngcontent-%COMP%]::placeholder{color:#f2ebdc;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#f2ebdc}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#f2ebdc}"]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,p.Bz.forChild(T),c.u5,c.UX,h.yb,g.ww,m.JF],p.Bz]}),o})()}}]);